<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="LADataSet" targetNamespace="http://tempuri.org/LADataSet.xsd" xmlns:mstns="http://tempuri.org/LADataSet.xsd" xmlns="http://tempuri.org/LADataSet.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="MySettings" AppSettingsPropertyName="LAConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="LAConnectionString (MySettings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Incidencias_entre_fechas.My.MySettings.GlobalReference.Default.LAConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="ListadoIncidenciasTableAdapter" GeneratorDataComponentClassName="ListadoIncidenciasTableAdapter" Name="ListadoIncidencias" UserDataComponentName="ListadoIncidenciasTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="LAConnectionString (MySettings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT        Envasados.EnvasadoID, Envasados.Fecha, SUM(DATEDIFF(mi, Incidencias.HoraInicio, Incidencias.HoraFin)) AS Minutos, 
                         TiposIncidencias.Descripcion AS Incidencia, CategoriaIncidencias.Descripcion AS Categoria, replace(ClasesIncidencias.Descripcion, 'Nueva','') AS Clase, 
                         LineasEnvasado.Descripcion AS Linea
FROM            ClasesIncidencias INNER JOIN
                         Envasados INNER JOIN
                         FormatosEnvasados ON Envasados.EnvasadoID = FormatosEnvasados.EnvasadoID INNER JOIN
                         Incidencias ON FormatosEnvasados.FormatoEnvasadoID = Incidencias.FormatoEnvasadoID INNER JOIN
                         TiposIncidencias ON Incidencias.TipoIncidenciaID = TiposIncidencias.TipoIncidenciaID ON 
                         ClasesIncidencias.ClaseIncidenciaID = TiposIncidencias.ClaseIncidenciaID INNER JOIN
                         TiposFormatosLineas ON FormatosEnvasados.TipoFormatoLineaID = TiposFormatosLineas.TipoFormatoLineaID INNER JOIN
                         LineasEnvasado ON TiposFormatosLineas.LineaEnvasadoID = LineasEnvasado.LineaEnvasadoID RIGHT OUTER JOIN
                         CategoriaIncidencias ON ClasesIncidencias.id_categoriaIncidencia = CategoriaIncidencias.CategoriaIncidenciaID
WHERE        (CONVERT(varchar(10), Envasados.Fecha, 103) = @fecha)
GROUP BY Envasados.EnvasadoID, Envasados.Fecha, TiposIncidencias.Descripcion, CategoriaIncidencias.Descripcion, ClasesIncidencias.Descripcion, 
                         LineasEnvasado.Descripcion
ORDER BY Linea, Minutos DESC</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="fecha" ColumnName="" DataSourceName="" DataTypeServer="unknown" DbType="AnsiString" Direction="Input" ParameterName="@fecha" Precision="0" Scale="0" Size="1024" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="EnvasadoID" DataSetColumn="EnvasadoID" />
              <Mapping SourceColumn="Fecha" DataSetColumn="Fecha" />
              <Mapping SourceColumn="Minutos" DataSetColumn="Minutos" />
              <Mapping SourceColumn="Incidencia" DataSetColumn="Incidencia" />
              <Mapping SourceColumn="Categoria" DataSetColumn="Categoria" />
              <Mapping SourceColumn="Clase" DataSetColumn="Clase" />
              <Mapping SourceColumn="Linea" DataSetColumn="Linea" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="LADataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="True" msprop:Generator_DataSetName="LADataSet" msprop:Generator_UserDSName="LADataSet">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="ListadoIncidencias" msprop:Generator_TableClassName="ListadoIncidenciasDataTable" msprop:Generator_TableVarName="tableListadoIncidencias" msprop:Generator_TablePropName="ListadoIncidencias" msprop:Generator_RowDeletingName="ListadoIncidenciasRowDeleting" msprop:Generator_RowChangingName="ListadoIncidenciasRowChanging" msprop:Generator_RowEvHandlerName="ListadoIncidenciasRowChangeEventHandler" msprop:Generator_RowDeletedName="ListadoIncidenciasRowDeleted" msprop:Generator_UserTableName="ListadoIncidencias" msprop:Generator_RowChangedName="ListadoIncidenciasRowChanged" msprop:Generator_RowEvArgName="ListadoIncidenciasRowChangeEvent" msprop:Generator_RowClassName="ListadoIncidenciasRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="EnvasadoID" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnEnvasadoID" msprop:Generator_ColumnPropNameInRow="EnvasadoID" msprop:Generator_ColumnPropNameInTable="EnvasadoIDColumn" msprop:Generator_UserColumnName="EnvasadoID" type="xs:int" minOccurs="0" />
              <xs:element name="Fecha" msprop:Generator_ColumnVarNameInTable="columnFecha" msprop:Generator_ColumnPropNameInRow="Fecha" msprop:Generator_ColumnPropNameInTable="FechaColumn" msprop:Generator_UserColumnName="Fecha" type="xs:dateTime" minOccurs="0" />
              <xs:element name="Minutos" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnMinutos" msprop:Generator_ColumnPropNameInRow="Minutos" msprop:Generator_ColumnPropNameInTable="MinutosColumn" msprop:Generator_UserColumnName="Minutos" type="xs:int" minOccurs="0" />
              <xs:element name="Incidencia" msprop:Generator_ColumnVarNameInTable="columnIncidencia" msprop:Generator_ColumnPropNameInRow="Incidencia" msprop:Generator_ColumnPropNameInTable="IncidenciaColumn" msprop:Generator_UserColumnName="Incidencia" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Categoria" msprop:Generator_ColumnVarNameInTable="columnCategoria" msprop:Generator_ColumnPropNameInRow="Categoria" msprop:Generator_ColumnPropNameInTable="CategoriaColumn" msprop:Generator_UserColumnName="Categoria">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Clase" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnClase" msprop:Generator_ColumnPropNameInRow="Clase" msprop:Generator_ColumnPropNameInTable="ClaseColumn" msprop:Generator_UserColumnName="Clase" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="8000" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Linea" msprop:Generator_ColumnVarNameInTable="columnLinea" msprop:Generator_ColumnPropNameInRow="Linea" msprop:Generator_ColumnPropNameInTable="LineaColumn" msprop:Generator_UserColumnName="Linea" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1">
      <xs:selector xpath=".//mstns:ListadoIncidencias" />
      <xs:field xpath="mstns:EnvasadoID" />
    </xs:unique>
  </xs:element>
</xs:schema>